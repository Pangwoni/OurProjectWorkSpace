package com.spring5legacy.mypro00.common.security;

import java.util.ArrayList;
import java.util.Collection;
import java.util.List;

import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.User;

import com.spring5legacy.mypro00.domain.MyAuthorityVO;
import com.spring5legacy.mypro00.domain.MyMemberVO;

public class MyMemberUser extends User{

	public MyMemberUser(MyMemberVO myMember) {
		// super(username, password, authorities);
		List<GrantedAuthority> grantedAuthList = new ArrayList<>();
		GrantedAuthority grantedAuth;
		
		for (MyAuthorityVO myAuth : myMember.getAuthList()) {
			grantedAuth = new SimpleGrantedAuthority(myAuth.getAuthority());
			grantedAuthList.add(grantedAuth);
		}
		super(myMember.getUserid(), myMember.getUserpw(), );
	}

}
